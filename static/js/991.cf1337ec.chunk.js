"use strict";(self.webpackChunktask_weather=self.webpackChunktask_weather||[]).push([[991],{991:function(t,e,n){n.r(e),n.d(e,{default:function(){return S}});var r=n(433),i=n(439),s=n(791),a="Modal_modal__P1rTT",c="Modal_close__2tCg2",u=n(184);var l=function(t){var e=t.children,n=t.isOpen,r=t.onClose,i=function(t){"Escape"===t.key&&r()};return(0,s.useEffect)((function(){return n&&document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}),[n]),n?(0,u.jsx)("div",{className:a,onClick:function(t){t.target===t.currentTarget&&r()},children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:c,onClick:r,children:"\xd7"}),e]})}):null},o={container:"AddTripForm_container__LSBVp",input:"AddTripForm_input__M9d5H",button:"AddTripForm_button__LORKe",button_save:"AddTripForm_button_save__GN7l5",Button:"AddTripForm_Button__v0Sfb"};var d=function(t){var e=t.addTrip,n=(0,s.useState)(""),r=(0,i.Z)(n,2),a=r[0],c=r[1],l=(0,s.useState)(""),d=(0,i.Z)(l,2),p=d[0],_=d[1],h=(0,s.useState)(""),f=(0,i.Z)(h,2),x=f[0],j=f[1];return(0,u.jsxs)("div",{className:o.container,children:[(0,u.jsx)("h3",{className:o.header,children:"Create trip"}),(0,u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={id:Date.now().toString(),city:a,startDate:p,endDate:x};e(n),c(""),_(""),j("")},children:[(0,u.jsxs)("label",{children:["City:",(0,u.jsx)("input",{placeholder:"Please select a city",className:o.input,type:"text",value:a,onChange:function(t){return c(t.target.value)}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["Start Date:",(0,u.jsx)("input",{className:o.input,type:"date",value:p,onChange:function(t){return _(t.target.value)}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["End Date:",(0,u.jsx)("input",{className:o.input,type:"date",value:x,onChange:function(t){return j(t.target.value)}})]}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{className:o.button,type:"button",onClick:function(){return c("")},children:"Cancel"}),(0,u.jsx)("button",{className:o.button_save,type:"submit",children:"Save"})]})]})},p=n(87),_="TripList_btn_delete__msrU+",h="TripList_list__cOFTK",f="TripList_link__4BvwG",x="TripItem_trip_item__Gjfn9";var j=function(t){var e=t.trip,n=e.city,r=e.startDate,i=e.endDate;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("img",{src:"",alt:n}),(0,u.jsx)("p",{children:n}),(0,u.jsxs)("p",{children:["Start Date: ",r]}),(0,u.jsxs)("p",{children:["End Date: ",i]})]})})};var m=function(t){var e=t.trips,n=t.onDeleteTrip;return(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:"Trip List"}),(0,u.jsx)("ul",{className:h,children:e.map((function(t){return(0,u.jsxs)("li",{children:[(0,u.jsx)(p.OL,{className:f,to:"weatherforecast/".concat(t.city),city:t.city,children:(0,u.jsx)(j,{trip:t})}),(0,u.jsx)("button",{className:_,onClick:function(){return e=t.id,void n(e);var e},children:"Delete"})]},t.id)}))})]})},v={button:"Home_button__1gOAx",search_trip:"Home_search_trip__9W+SU",submit:"Home_submit__c8Jko"},b=n(689),y=n(639);function S(){var t=(0,s.useState)([]),e=(0,i.Z)(t,2),n=e[0],a=e[1],c=(0,s.useState)(!1),o=(0,i.Z)(c,2),p=o[0],_=o[1],h=(0,s.useState)(""),f=(0,i.Z)(h,2),x=f[0],j=f[1],S=(0,s.useState)([]),g=(0,i.Z)(S,2),C=g[0],k=g[1];(0,s.useEffect)((function(){var t=JSON.parse(localStorage.getItem("trips"));t&&a(t)}),[]),(0,s.useEffect)((function(){localStorage.setItem("trips",JSON.stringify(n))}),[n]);var N=function(){var t=n.filter((function(t){return t.city.toLowerCase().includes(x.toLowerCase())}));k(t)};return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:v.search_trip,type:"text",placeholder:"Search your trip",value:x,onChange:function(t){return j(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&N()}}),(0,u.jsx)("button",{className:v.submit,type:"submit",onClick:N,children:"Search"})]}),(0,u.jsx)(m,{trips:C.length>0?C:n,onDeleteTrip:function(t){a(n.filter((function(e){return e.id!==t})))}}),(0,u.jsx)("button",{className:v.button,onClick:function(){return _(!0)},children:"Add Trip"}),(0,u.jsx)(l,{isOpen:p,onClose:function(){return _(!1)},children:(0,u.jsx)(d,{addTrip:function(t){a([].concat((0,r.Z)(n),[t])),_(!1)}})}),(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(y.Z,{}),children:(0,u.jsx)(b.j3,{})})]})}}}]);
//# sourceMappingURL=991.cf1337ec.chunk.js.map